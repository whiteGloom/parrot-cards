import{e as p,r as h,j as e}from"./index-BkuIcFiu.js";import{h as f}from"./color-CpnjabFv.js";import{c as b,B as s,a as r}from"./createLucideIcon-7xPxo-aF.js";import{S as C,T as u,X as x}from"./input-wrapped-CgZFhE1X.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],w=b("check",T);function y(n){const o=p(),t=o.tags[n.tagId],[g,m]=h.useState(!1),[a,l]=h.useState(!1),[c,d]=h.useState(t?.title||"");if(!t)return e.jsx("div",{className:"flex items-center border border-gray-300 shadow rounded p-2 gap-2 text-red-600",children:"Tag not found"});const j=!!c.trim().length;return e.jsxs("div",{className:"group/button flex items-center border border-gray-300 shadow rounded p-2 gap-2",children:[e.jsxs("label",{className:"flex grow gap-2 cursor-pointer pt-2 pb-2",style:{color:f(t.color)},children:[e.jsx("input",{type:"checkbox",onChange:()=>{n.onSelectedChange?.(!n.isSelected)},className:"cursor-pointer",checked:n.isSelected}),!a&&e.jsx("span",{children:t.title}),a&&e.jsx("input",{onChange:i=>{d(i.target.value)},autoFocus:!0,value:c,className:"border p-1 rounded border-gray-400 shadow bg-white w-0 grow"})]}),!g&&!a&&e.jsxs(e.Fragment,{children:[e.jsx(s,{theme:r.secondary,className:"hidden group-hover/button:flex",onClick:()=>{l(!0)},hint:"Edit the tag",children:e.jsx(C,{})}),e.jsx(s,{theme:r.warning,className:"hidden group-hover/button:flex",onClick:()=>{m(!0)},hint:"Delete the tag",children:e.jsx(u,{})})]}),g&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-red-600",children:"Delete the tag?"}),e.jsx(s,{theme:r.warning,onClick:()=>{o.removeTags([t.id])},hint:"Confirm deleting",children:e.jsx(u,{})}),e.jsx(s,{theme:r.primary,onClick:()=>{m(!1)},hint:"Cancel deleting",children:e.jsx(x,{})})]}),a&&e.jsxs(e.Fragment,{children:[e.jsx(s,{theme:r.primary,onClick:()=>{const i=c.trim();o.updateTag(t.id,{title:i}),d(i),l(!1)},disabled:!j,hint:"Save changes",children:e.jsx(w,{})}),e.jsx(s,{theme:r.secondary,onClick:()=>{d(t.title),l(!1)},hint:"Discard changes",children:e.jsx(x,{})})]})]})}export{y as T};
