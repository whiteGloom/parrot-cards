import{d as l,u as d,j as e}from"./index-BtJs-EZI.js";import{F as c}from"./formik.esm-DvrK3LIn.js";import{P as g,B as n,a as r}from"./page-content-wrapper-DPvODrPk.js";import{A as h}from"./arrow-left-DaYY4fb8.js";const j=function(){const t=l(),s=d();return e.jsx(g,{children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(n,{className:"self-start",theme:r.secondary,onClick:()=>{s({to:"/"}).catch(null)},children:e.jsx(h,{})}),e.jsx("h1",{className:"text-2xl text-purple-800",children:"Google OAuth Settings"})]}),e.jsx(c,{initialValues:{clientId:t.oauthSettings?.clientId||"",keepMeLoggedIn:t.oauthSettings?.keepMeLoggedIn||!1},onSubmit:a=>{t.setOauthSettings({clientId:a.clientId.trim(),keepMeLoggedIn:a.keepMeLoggedIn})},validate:a=>{const o={};return a.clientId.trim()||(o.clientId="Required"),o},children:({handleSubmit:a,handleChange:o,values:i})=>e.jsxs("form",{onSubmit:a,className:"border border-gray-200 bg-white rounded p-3 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"googleOauth:clientId",className:"text-sm text-gray-700",children:"Client ID:"}),e.jsx("input",{id:"googleOauth:clientId",type:"text",name:"clientId",value:i.clientId,onChange:o,placeholder:"Enter your Google OAuth Client ID",className:"border p-1 rounded border-gray-400 shadow bg-white"})]}),e.jsxs("label",{htmlFor:"googleOauth:keepMeLoggedIn",className:"text-sm text-gray-700 flex gap-1",children:[e.jsx("input",{id:"googleOauth:keepMeLoggedIn",type:"checkbox",name:"keepMeLoggedIn",checked:i.keepMeLoggedIn,onChange:o,className:`border p-1
                `}),"Keep me logged in"]}),e.jsx(n,{theme:t.oauthSettings?.clientId?r.secondary:r.primary,type:"submit",children:"Save"})]})}),t.oauthSettings?.clientId?e.jsx(n,{theme:t.authorizationData?.state==="error"?r.warning:r.primary,type:"submit",isLoading:t.authorizationData.state==="inProgress",onClick:async()=>{t.authorize().catch(null)},hint:t.authorizationData.state==="error"?`Error: ${t.authorizationData.errorInfo.error}`:void 0,disabled:t.authorizationData.state==="inProgress"||t.authorizationData.state==="authorized",children:t.authorizationData.state==="authorized"?"You are authorized":"Login"}):e.jsx("p",{className:"mt-4 text-red-500",children:"Google App's Client ID isn't set"})]})})};export{j as component};
