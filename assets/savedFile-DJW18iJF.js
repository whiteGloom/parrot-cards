import{o as e,a as n,s as a,b as g,H as c,l as p}from"./color-CpnjabFv.js";import"./index-Be9N7zuG.js";const i=e({title:a(),description:a(),hints:n(a())}),S=e({id:a(),knownLanguageSide:i,targetLanguageSide:i});e({knownLanguageSide:i,targetLanguageSide:i,tags:n(a())});const l=e({id:a(),title:a()});e({title:a(),color:g(c)});const f=e({version:p(1),content:e({cards:n(S),tags:n(l)})});function u(o){const t=JSON.parse(o);if(t.version!==1)throw new Error("Unsupported file version");return f.parse(t),t}async function C(o){const{cardsStore:t,tagsStore:r,fileContent:d}=o,s=u(d);t.getState().addCards(s.content.cards),r.getState().addTags(s.content.tags)}async function w(o){const{cardsStore:t,tagsStore:r}=o,d={version:1,content:{cards:t.getState().cardsIds.map(s=>t.getState().cards[s]),tags:r.getState().tagsIds.map(s=>r.getState().tags[s])}};return JSON.stringify(d)}export{w as a,C as p};
