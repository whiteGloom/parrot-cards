import{e as f,r as g,j as e}from"./index-BBlGBWHT.js";import{h as p,S as b,T as x,X as m,C}from"./input-wrapped-C3FkoGjK.js";import{B as n,a}from"./page-content-wrapper-CMnHi2oT.js";function S(s,i){const t=[];for(let r=0;r<s;r++)t.push(i(r));return t}function N(s){const i=f(),t=i.tags[s.tagId],[r,u]=g.useState(!1),[o,c]=g.useState(!1),[d,h]=g.useState(t?.title||"");if(!t)return e.jsx("div",{className:"flex items-center border border-gray-300 shadow rounded p-2 gap-2 text-red-600",children:"Tag not found"});const j=!!d.trim().length;return e.jsxs("div",{className:"group/button flex items-center border border-gray-300 shadow rounded p-2 gap-2 even:bg-violet-50",children:[e.jsxs("label",{className:"flex grow gap-2 cursor-pointer pt-2 pb-2",style:{color:p(t.color)},children:[e.jsx("input",{type:"checkbox",onChange:()=>{s.onSelectedChange?.(!s.isSelected)},className:"cursor-pointer",checked:s.isSelected}),!o&&e.jsx("span",{children:t.title}),o&&e.jsx("input",{onChange:l=>{h(l.target.value)},autoFocus:!0,value:d,className:"border p-1 rounded border-gray-400 shadow bg-white w-0 grow"})]}),!r&&!o&&e.jsxs(e.Fragment,{children:[e.jsx(n,{theme:a.secondary,className:"hidden group-hover/button:flex touch:flex",onClick:()=>{c(!0)},hint:"Edit the tag",children:e.jsx(b,{})}),e.jsx(n,{theme:a.warning,className:"hidden group-hover/button:flex touch:flex",onClick:()=>{u(!0)},hint:"Delete the tag",children:e.jsx(x,{})})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-red-600",children:"Delete the tag?"}),e.jsx(n,{theme:a.warning,onClick:()=>{i.removeTags([t.id])},hint:"Confirm deleting",children:e.jsx(x,{})}),e.jsx(n,{theme:a.primary,onClick:()=>{u(!1)},hint:"Cancel deleting",children:e.jsx(m,{})})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx(n,{theme:a.primary,onClick:()=>{const l=d.trim();i.updateTag(t.id,{title:l}),h(l),c(!1)},disabled:!j,hint:"Save changes",children:e.jsx(C,{})}),e.jsx(n,{theme:a.secondary,onClick:()=>{h(t.title),c(!1)},hint:"Discard changes",children:e.jsx(m,{})})]})]})}export{N as T,S as i};
