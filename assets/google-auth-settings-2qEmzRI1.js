import{d,u as h,j as e}from"./index-BBlGBWHT.js";import{F as g}from"./formik.esm-CMYxxkWO.js";import{c as u,P as m,B as s,a as r}from"./page-content-wrapper-CMnHi2oT.js";import{A as p}from"./arrow-left-dSwhMG5r.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=[["path",{d:"M12.035 17.012a3 3 0 0 0-3-3l-.311-.002a.72.72 0 0 1-.505-1.229l1.195-1.195A2 2 0 0 1 10.828 11H12a2 2 0 0 0 0-4H9.243a3 3 0 0 0-2.122.879l-2.707 2.707A4.83 4.83 0 0 0 3 14a8 8 0 0 0 8 8h2a8 8 0 0 0 8-8V7a2 2 0 1 0-4 0v2a2 2 0 1 0 4 0",key:"1ff7rl"}],["path",{d:"M13.888 9.662A2 2 0 0 0 17 8V5A2 2 0 1 0 13 5",key:"1xmd21"}],["path",{d:"M9 5A2 2 0 1 0 5 5V10",key:"f3wfjw"}],["path",{d:"M9 7V4A2 2 0 1 1 13 4V7.268",key:"eaoucv"}]],I=u("hand-fist",x),N=function(){const t=d(),l=h(),o=t.authorizationData.state,c=["inProgress","authorized"].includes(o);return e.jsx(m,{children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(s,{className:"self-start",theme:r.secondary,onClick:()=>{l({to:"/"}).catch(null)},children:e.jsx(p,{})}),e.jsx("h1",{className:"text-2xl text-purple-800",children:"Google OAuth Settings"})]}),e.jsx(g,{initialValues:{clientId:t.oauthSettings?.clientId||"",keepMeLoggedIn:t.oauthSettings?.keepMeLoggedIn||!1},onSubmit:a=>{t.setOauthSettings({clientId:a.clientId.trim(),keepMeLoggedIn:a.keepMeLoggedIn})},validate:a=>{const n={};return a.clientId.trim()||(n.clientId="Required"),n},children:({handleSubmit:a,handleChange:n,values:i})=>e.jsxs("form",{onSubmit:a,className:"border border-gray-200 bg-white rounded p-3 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{htmlFor:"googleOauth:clientId",className:"text-sm text-gray-700",children:"Client ID:"}),e.jsx("input",{id:"googleOauth:clientId",type:"text",name:"clientId",value:i.clientId,onChange:n,placeholder:"Enter your Google OAuth Client ID",className:"border p-1 rounded border-gray-400 shadow bg-white"})]}),e.jsxs("label",{htmlFor:"googleOauth:keepMeLoggedIn",className:"text-sm text-gray-700 flex gap-1",children:[e.jsx("input",{id:"googleOauth:keepMeLoggedIn",type:"checkbox",name:"keepMeLoggedIn",checked:i.keepMeLoggedIn,onChange:n,className:`border p-1
                `}),"Keep me logged in"]}),e.jsx(s,{theme:t.oauthSettings?.clientId?r.secondary:r.primary,type:"submit",children:"Save"})]})}),t.oauthSettings?.clientId?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(s,{theme:o==="error"?r.warning:r.primary,type:"submit",isLoading:o==="inProgress",onClick:async()=>{t.authorize().catch(null)},hint:o==="error"?`Error: ${t.authorizationData.errorInfo.error}`:void 0,disabled:o==="inProgress"||o==="authorized",className:"grow",children:o==="authorized"?"You are authorized":o==="inProgress"?"In progress":"Login"}),c&&e.jsx(s,{theme:r.secondary,onClick:()=>{t.authorize(!0).catch(null)},hint:"Force authorization",className:"self-end",contentBuilder:a=>e.jsx(I,{stroke:a.textColor})})]}):e.jsx("p",{className:"mt-4 text-red-500",children:"Google App's Client ID isn't set"})]})})};export{N as component};
